***************
*** 82,136 ****
  import com.xmlcalabash.functions.XProcExtensionFunctionDefinition;
  import com.xmlcalabash.io.ReadableData;
  import com.xmlcalabash.io.ReadablePipe;
  import com.xmlcalabash.runtime.XLibrary;
  import com.xmlcalabash.runtime.XPipeline;
  import com.xmlcalabash.runtime.XRootStep;
  import com.xmlcalabash.runtime.XStep;
  import com.xmlcalabash.util.DefaultXProcConfigurer;
  import com.xmlcalabash.util.DefaultXProcMessageListener;
  import com.xmlcalabash.util.JSONtoXML;
  import com.xmlcalabash.util.S9apiUtils;
  import com.xmlcalabash.util.StepErrorListener;
  import com.xmlcalabash.util.TreeWriter;
  import net.sf.saxon.Configuration;
  import net.sf.saxon.lib.ExtensionFunctionDefinition;
  import net.sf.saxon.s9api.ExtensionFunction;
  import net.sf.saxon.s9api.Processor;
  import net.sf.saxon.s9api.QName;
  import net.sf.saxon.s9api.Serializer;
  import net.sf.saxon.s9api.XdmDestination;
  import net.sf.saxon.s9api.XdmNode;
- import net.sf.saxon.s9api.SaxonApiException;
- import com.xmlcalabash.model.Parser;
- import com.xmlcalabash.model.DeclareStep;
- import com.xmlcalabash.model.PipelineLibrary;
- import com.xmlcalabash.util.XProcURIResolver;
- import com.xmlcalabash.util.URIUtils;
- 
- import java.io.File;
- import java.io.FileOutputStream;
- import java.io.IOException;
- import java.io.InputStream;
- import java.io.OutputStream;
- import java.lang.reflect.Constructor;
- import java.text.DateFormat;
- import java.text.SimpleDateFormat;
- import java.util.Calendar;
- import java.util.Date;
- import java.util.logging.Logger;
- import java.util.Hashtable;
- import java.util.Vector;
- import java.util.GregorianCalendar;
- import java.util.Locale;
- import java.io.FileNotFoundException;
- import java.net.URISyntaxException;
- import java.net.URI;
- import java.security.MessageDigest;
- import java.security.NoSuchAlgorithmException;
- 
- import javax.xml.transform.URIResolver;
- import javax.xml.transform.sax.SAXSource;
- 
  import net.sf.saxon.s9api.XsltCompiler;
  import net.sf.saxon.s9api.XsltExecutable;
  import net.sf.saxon.s9api.XsltTransformer;
--- 106,137 ----
  import com.xmlcalabash.functions.XProcExtensionFunctionDefinition;
  import com.xmlcalabash.io.ReadableData;
  import com.xmlcalabash.io.ReadablePipe;
+ import com.xmlcalabash.model.DeclareStep;
+ import com.xmlcalabash.model.Parser;
+ import com.xmlcalabash.model.PipelineLibrary;
  import com.xmlcalabash.runtime.XLibrary;
  import com.xmlcalabash.runtime.XPipeline;
  import com.xmlcalabash.runtime.XRootStep;
  import com.xmlcalabash.runtime.XStep;
  import com.xmlcalabash.util.DefaultXProcConfigurer;
  import com.xmlcalabash.util.DefaultXProcMessageListener;
+ import com.xmlcalabash.util.Input;
  import com.xmlcalabash.util.JSONtoXML;
+ import com.xmlcalabash.util.Output;
  import com.xmlcalabash.util.S9apiUtils;
  import com.xmlcalabash.util.StepErrorListener;
  import com.xmlcalabash.util.TreeWriter;
+ import com.xmlcalabash.util.URIUtils;
+ import com.xmlcalabash.util.XProcURIResolver;
  import net.sf.saxon.Configuration;
  import net.sf.saxon.lib.ExtensionFunctionDefinition;
  import net.sf.saxon.s9api.ExtensionFunction;
  import net.sf.saxon.s9api.Processor;
  import net.sf.saxon.s9api.QName;
+ import net.sf.saxon.s9api.SaxonApiException;
  import net.sf.saxon.s9api.Serializer;
  import net.sf.saxon.s9api.XdmDestination;
  import net.sf.saxon.s9api.XdmNode;
  import net.sf.saxon.s9api.XsltCompiler;
  import net.sf.saxon.s9api.XsltExecutable;
  import net.sf.saxon.s9api.XsltTransformer;
